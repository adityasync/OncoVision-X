# OncoVision-X Model Performance

This document provides a comprehensive overview of the OncoVision-X evaluation metrics, generated by the Dual-Context Attention Network (DCA-Net) following 5-fold cross-validation and rigorous local testing on the LUNA16 benchmark dataset.

## Core Classification Metrics
* **AUC-ROC:** `0.9555`
* **AUC-PR:** `0.8040`
* **Specificity:** `0.9783`
* **Sensitivity:** `0.7174`
* **Precision:** `0.8250`
* **F1-Score:** `0.7674`
* **Accuracy:** `0.9457`
* **Expected Calibration Error (ECE):** `0.0295`
* **Mean Confidence (Correct Predictions):** `0.9843`

---

## 1. Receiver Operating Characteristic (ROC) & Precision-Recall (PR)
<p align="center">
  <img src="../results/evaluation/figures/roc_curve.png" width="48%" title="ROC Curve">
  <img src="../results/evaluation/figures/pr_curve.png" width="48%" title="PR Curve">
</p>

* **ROC Curve:** Demonstrates the excellent trade-off between the true positive rate and false positive rate (AUC 0.955).
* **PR Curve:** Shows robust precision even at higher recall thresholds (AUC-PR 0.804).

## 2. Confusion Matrix & Subgroup Analysis
<p align="center">
  <img src="../results/evaluation/figures/confusion_matrix.png" width="48%" title="Confusion Matrix">
  <img src="../results/evaluation/figures/subgroup_analysis.png" width="48%" title="Subgroup Analysis">
</p>

* **Confusion Matrix:** Highlights the system's reliability in ruling out negatives (945 True Negatives vs. only 21 False Positives). This proves its utility as a reliable initial screening tool that avoids generating excessive false alarms.
* **Subgroup Analysis:** Breaks down the model's performance capabilities across varying nodule size ranges, confirming consistent discriminative accuracy on both micro and macro-nodules.

## 3. Uncertainty & Confidence Distributions
<p align="center">
  <img src="../results/evaluation/figures/uncertainty_distribution.png" width="48%" title="Uncertainty">
  <img src="../results/evaluation/figures/score_distribution.png" width="48%" title="Scores">
</p>

* **Uncertainty Quantification:** Through Monte Carlo dropout, the model expresses uncertainty on marginal predictions. The visualization indicates clean confidence thresholds.
* **Malignancy Score Distribution:** Clearly separates benign cases (clustering heavily at ~0.0) from malignant nodules (clustering firmly near ~1.0).

## 4. Calibration Diagram & FROC Analysis
<p align="center">
  <img src="../results/evaluation/figures/calibration_diagram.png" width="48%" title="Calibration Diagram">
  <img src="../results/evaluation/figures/froc_curve.png" width="48%" title="FROC Curve">
</p>

* **Calibration:** Proves that a malignancy probability output by the model closely correlates with the actual real-world empirical probability of malignancy (ECE: 0.0295).
* **FROC Curve:** The Free-Response ROC curve highlights the detection sensitivity as a function of allowed false positives per scan, providing radiologist-centric tracking of precision limits.

## 5. Interpretability (Grad-CAM++)
The model integrates Grad-CAM++ to highlight exactly what physiological characteristics drove its decision.

<p align="center">
  <img src="../results/evaluation/figures/gradcam/gradcam_000_neg_pred_benign.png" width="48%" title="Grad-CAM Sample 1">
  <img src="../results/evaluation/figures/gradcam/gradcam_001_neg_pred_benign.png" width="48%" title="Grad-CAM Sample 2">
</p>
<p align="center">
  <img src="../results/evaluation/figures/gradcam/gradcam_008_neg_pred_benign.png" width="48%" title="Grad-CAM Sample 3">
  <img src="../results/evaluation/figures/gradcam/gradcam_000_neg_pred_malignant.png" width="48%" title="Grad-CAM Sample 4 (False Positive)">
</p>

*The heatmaps provide transparent mappings of critical spiculation and boundary structures that influenced the final classification layer.*
